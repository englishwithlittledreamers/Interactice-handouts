<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Passage: The Design of a New Cooking Stove</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff; /* Ensures white background */
        }
        /* Highlight styles - Copied from the provided HTML */
        .highlight-yellow { background-color: #FEF9C3; } /* Yellow-100 */
        .highlight-blue { background-color: #DBEAFE; } /* Blue-100 */
        .highlight-green { background-color: #D1FAE5; } /* Green-100 */
        .highlight-pink { background-color: #FCE7F3; } /* Pink-100 */
        .highlighted-text {
            /* Ensures highlighted text is treated as a single unit for selection */
            display: inline;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 bg-white">
    <div class="bg-white p-6 sm:p-8 md:p-10 rounded-xl w-full max-w-4xl border border-gray-200 shadow-lg">
        <div id="readingPassageContent" class="space-y-4 text-gray-700 text-base sm:text-lg leading-relaxed select-text">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">The design of a new cooking stove</h1>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">A.</h2>
            <p>Cooking on charcoal is costly and damages health and forests, yet charcoal is a major cooking fuel in many countries, particularly in urban areas. In East Africa, 4.5 million urban households regularly cook on it, and that number is growing. Many attempts have been made to reduce the impacts of charcoal use by improving the efficiency of cooking stoves. One successful example is the Kenya Ceramic Jiko (jiko means stove in Swahili), or KCJ, which was developed in the 1980s. It cut charcoal use by adding an insulating ceramic liner to the traditional metal jiko.</p>
            <p>However, most companies developing higher‑efficiency stoves rely on precision manufacture in China, and this means that jobs are exported, and transport adds to the cost of a stove. In 2011, a company called BURN Manufacturing took on the challenge of designing a much cleaner and more efficient charcoal stove, and manufacturing it in Kenya. The resulting product, the jikokoa, was launched commercially in 2013.</p>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">B.</h2>
            <p>The jikokoa is designed for household use, and can cook a single pot of food up to 12 litres in size – the sort of quantity needed for a family of eight to ten people. It is similar in external size to the KCJ, because this is what users wanted. User opinions also led to the smart external finish in silver and black.</p>
            <p>Inside, the jikokoa is different to the KCJ. The combustion chamber (where the charcoal burns) is much smaller, and is made of a metal alloy which can cope with high temperatures, rather than ceramic. There is an ash tray underneath the grate where the charcoal sits. Not only does this provide a clean way to collect ash, it can also be moved in and out to light the charcoal from underneath. In addition, it allows accurate control of the air flow and thus the rate of burning. Around the combustion chamber and underneath the ash tray is a thick layer of ceramic wool insulation, to cut heat loss. All parts are made to strict specifications, and components fit tightly, to minimise air leakage.</p>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">C.</h2>
            <p>BURN’s stoves are made in a modern, continuous-flow manufacturing facility that is capable of assembling one stove per minute. In this factory, all stove components are first fabricated from raw materials. Four sub-assembly lines then combine these components into different sections (stove top, base, combustion chamber and outer casing). The final assembly line combines these four sections together, and fits the insulation around the combustion chamber. To achieve high standards, incentive payments to assembly line teams are based not just on quantity of production, but also on quality, safety and tidiness.</p>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">D.</h2>
            <p>High-specification materials and manufacture obviously carry a price tag: the current model of the jikokoa retails at KSh 3,800 (US$40) compared to around KSh 1,000 (US$11) for a similar-sized KCJ. However, despite savings made on charcoal use, the initial cost of the stove puts it out of reach for many low income households. BURN is therefore actively growing a network of partners who can provide loans repayable in instalments. These now represent over one third of sales. The jikokoa is also sold through conventional channels, including all four large supermarket chains in Kenya and a wide range of smaller shops.</p>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">E.</h2>
            <p>BURN currently employs 87 people in Kenya, and aims to be an exemplary employer. All employees are salaried, and thus get paid annual leave, sick leave and maternity pay. Women account for 53% of the workforce, and are in all types of job and at all levels, representing 46% of those employed in production, and 65% of those in administration, sales and management.</p>
            <p>This gender equality has been achieved through fair and consistent employment practice, rather than quotas or positive discrimination. BURN makes very clear that appointment is based on merit and that all positions are open to women. Through this it has recruited both women and men to all types of job. Once in post, bonuses and promotion are given solely on the basis of performance. BURN’s experience is that women work well, and they have therefore risen through the company.</p>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">F.</h2>
            <p>Compared to the KCJ, the jikokoa lights more easily and can cook faster, because the charcoal burns at a high temperature. In addition, the cooking rate can be controlled using the ash tray. It also looks good and is easy to carry around. Independent testing found that the jikokoa used 45% less charcoal than the KCJ, and this translates into significant financial savings for a household, typically nearly US$200 per year. Equally important is the reduction in health-damaging fumes.</p>
            <p>Cutting charcoal use helps reduce deforestation in Kenya. The 62,000 jikokoa stoves currently in use are saving around 160,000 tonnes of wood each year. Jikokoas also cut greenhouse gas emissions.</p>

            <h2 class="text-xl sm:text-2xl font-bold text-gray-700 mb-2">G.</h2>
            <p>BURN Manufacturing aims to scale-up sales rapidly in Kenya, in particular through the different microfinance routes which are making jikokoas increasingly affordable to low-income households. Pilot sales in Tanzania went well, and marked the start of expansion throughout East Africa in 2015. New jikokoa models have been designed, such as a larger version for restaurants. The Nairobi factory has space for expansion of production to meet growing demand. It is also expanding its research capacity, to localise and speed up the development of new stoves.</p>
        </div>
    </div>

    <!-- Floating Highlight Toolbar -->
    <div id="floatingToolbar" class="absolute hidden bg-gray-800 p-2 rounded-lg shadow-xl flex items-center space-x-2 z-50">
        <button id="toolbarClearBtn" title="Clear Highlight" class="p-1 rounded-full bg-gray-600 hover:bg-gray-700 text-white text-lg leading-none flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 11-2 0v6a1 1 0 112 0V8z" clip-rule="evenodd" />
            </svg>
        </button>
        <div id="toolbarYellow" title="Highlight Yellow" class="w-6 h-6 rounded-full cursor-pointer bg-yellow-400 hover:bg-yellow-500 transition-colors duration-200" data-color="highlight-yellow"></div>
        <div id="toolbarBlue" title="Highlight Blue" class="w-6 h-6 rounded-full cursor-pointer bg-blue-400 hover:bg-blue-500 transition-colors duration-200" data-color="highlight-blue"></div>
        <div id="toolbarGreen" title="Highlight Green" class="w-6 h-6 rounded-full cursor-pointer bg-green-400 hover:bg-green-500 transition-colors duration-200" data-color="highlight-green"></div>
        <div id="toolbarPink" title="Highlight Pink" class="w-6 h-6 rounded-full cursor-pointer bg-pink-400 hover:bg-pink-500 transition-colors duration-200" data-color="highlight-pink"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const readingPassageContent = document.getElementById('readingPassageContent');
            const floatingToolbar = document.getElementById('floatingToolbar');
            const toolbarClearBtn = document.getElementById('toolbarClearBtn');
            const toolbarYellow = document.getElementById('toolbarYellow');
            const toolbarBlue = document.getElementById('toolbarBlue');
            const toolbarGreen = document.getElementById('toolbarGreen');
            const toolbarPink = document.getElementById('toolbarPink');

            let lastSelectionRange = null;

            // Function to apply highlight to selected text
            function applyHighlight(colorClass) {
                const selection = window.getSelection();
                let range;

                // Use current selection if available, otherwise use the last stored selection
                if (selection.rangeCount > 0 && !selection.isCollapsed) {
                    range = selection.getRangeAt(0);
                } else if (lastSelectionRange) {
                    range = lastSelectionRange;
                    selection.removeAllRanges(); // Clear current selection before re-adding
                    selection.addRange(range);
                } else {
                    // No text selected or previously selected
                    console.log("No text selected to highlight.");
                    return;
                }

                const selectedText = range.toString().trim();
                if (!selectedText) return; // Do nothing if selection is empty

                const span = document.createElement('span');
                span.classList.add(colorClass);
                span.classList.add('highlighted-text'); // Add a class to identify highlighted spans

                try {
                    // Extract the selected content and put it into the new span
                    const contents = range.extractContents();
                    span.appendChild(contents);
                    range.insertNode(span); // Insert the new span back into the document

                    selection.removeAllRanges(); // Clear the selection after highlighting
                    floatingToolbar.classList.add('hidden'); // Hide the toolbar
                    lastSelectionRange = null; // Clear last stored range
                } catch (e) {
                    console.error("Error applying highlight:", e);
                    // Provide user feedback if highlighting fails for complex selections
                    // (e.g., selection spanning across multiple non-text nodes)
                }
            }

            // Function to clear highlight from selected text
            function clearSelectedHighlight() {
                const selection = window.getSelection();
                let range;

                // Use current selection if available, otherwise use the last stored selection
                if (selection.rangeCount > 0 && !selection.isCollapsed) {
                    range = selection.getRangeAt(0);
                } else if (lastSelectionRange) {
                    range = lastSelectionRange;
                    selection.removeAllRanges();
                    selection.addRange(range);
                } else {
                    console.log("No text selected to clear highlight.");
                    return;
                }

                const selectedNode = range.commonAncestorContainer;
                let highlightedSpan = null;

                // Check if the selected node itself is a highlighted span
                if (selectedNode && selectedNode.nodeType === Node.ELEMENT_NODE && selectedNode.classList.contains('highlighted-text')) {
                    highlightedSpan = selectedNode;
                } else {
                    // Traverse up the DOM tree from the selected node to find a parent highlight span
                    let currentNode = selectedNode;
                    while (currentNode && currentNode !== readingPassageContent && currentNode.parentNode) {
                        if (currentNode.nodeType === Node.ELEMENT_NODE && currentNode.classList.contains('highlighted-text')) {
                            highlightedSpan = currentNode;
                            break;
                        }
                        currentNode = currentNode.parentNode;
                    }
                }

                if (highlightedSpan && highlightedSpan.parentNode) {
                    // Replace the highlighted span with its plain text content
                    const textContent = highlightedSpan.textContent;
                    highlightedSpan.parentNode.replaceChild(document.createTextNode(textContent), highlightedSpan);

                    selection.removeAllRanges(); // Clear the selection
                    floatingToolbar.classList.add('hidden'); // Hide the toolbar
                    lastSelectionRange = null; // Clear last stored range
                } else {
                    console.log("No highlight found to clear for this selection.");
                }
            }

            // Event listeners for toolbar buttons
            toolbarYellow.addEventListener('click', () => applyHighlight('highlight-yellow'));
            toolbarBlue.addEventListener('click', () => applyHighlight('highlight-blue'));
            toolbarGreen.addEventListener('click', () => applyHighlight('highlight-green'));
            toolbarPink.addEventListener('click', () => applyHighlight('highlight-pink'));
            toolbarClearBtn.addEventListener('click', clearSelectedHighlight);

            // Show/hide toolbar on text selection (mouseup event)
            readingPassageContent.addEventListener('mouseup', (event) => {
                const selection = window.getSelection();
                // Check if there's a selection and it's not collapsed (i.e., actual text is selected)
                if (selection.rangeCount > 0 && !selection.isCollapsed) {
                    lastSelectionRange = selection.getRangeAt(0); // Store the current selection range
                    const rect = lastSelectionRange.getBoundingClientRect(); // Get the bounding box of the selection
                    const toolbarHeight = floatingToolbar.offsetHeight;
                    const toolbarWidth = floatingToolbar.offsetWidth;

                    // Position the toolbar above the selected text
                    floatingToolbar.style.top = `${rect.top + window.scrollY - toolbarHeight - 10}px`;
                    // Center the toolbar horizontally above the selection
                    let leftPos = rect.left + window.scrollX + (rect.width / 2) - (toolbarWidth / 2);
                    // Ensure the toolbar stays within the viewport boundaries
                    leftPos = Math.max(10, leftPos); // Prevent going too far left
                    leftPos = Math.min(leftPos, window.innerWidth - toolbarWidth - 10); // Prevent going too far right
                    floatingToolbar.style.left = `${leftPos}px`;

                    floatingToolbar.classList.remove('hidden'); // Show the toolbar
                } else {
                    floatingToolbar.classList.add('hidden'); // Hide if no selection
                    lastSelectionRange = null; // Clear last stored range
                }
            });

            // Hide toolbar when clicking outside the toolbar or passage content
            document.addEventListener('mousedown', (event) => {
                // If the click is not inside the toolbar and not inside the reading passage content
                if (!floatingToolbar.contains(event.target) && !readingPassageContent.contains(event.target)) {
                    floatingToolbar.classList.add('hidden'); // Hide the toolbar
                    lastSelectionRange = null; // Clear last stored range
                }
            });
        });
    </script>
</body>
</html>
